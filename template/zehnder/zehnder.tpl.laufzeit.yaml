- sensor:
    - name: "ComfoAir Laufzeit L端ftung Away"
      state: >
        {% set zehnder_info = state_attr('sensor.zehnder_comfoair_info', 'getOperatingHours') %}
        {% if states('sensor.zehnder_comfoair_info') == 'OK'
              and zehnder_info
              and 'away' in zehnder_info
              and 'value' in zehnder_info['away'] -%}
          {{ zehnder_info['away']['value'] }}
        {%- else -%}
          {{ states('sensor.comfoair_laufzeit_luftung_away') }}
        {%- endif %}
      device_class: duration
      unit_of_measurement: "h"
      unique_id: template.sensor_comfoair_laufzeit_luftung_away

    - name: "ComfoAir Laufzeit L端ftung Low"
      state: >
        {% set zehnder_info = state_attr('sensor.zehnder_comfoair_info', 'getOperatingHours') %}
        {% if states('sensor.zehnder_comfoair_info') == 'OK'
              and zehnder_info
              and 'low' in zehnder_info
              and 'value' in zehnder_info['low'] -%}
          {{ zehnder_info['low']['value'] }}
        {%- else -%}
          {{ states('sensor.comfoair_laufzeit_luftung_low') }}
        {%- endif %}
      device_class: duration
      unit_of_measurement: "h"
      unique_id: template.sensor_comfoair_laufzeit_luftung_low

    - name: "ComfoAir Laufzeit L端ftung Middle"
      state: >
        {% set zehnder_info = state_attr('sensor.zehnder_comfoair_info', 'getOperatingHours') %}
        {% if states('sensor.zehnder_comfoair_info') == 'OK'
              and zehnder_info
              and 'middle' in zehnder_info
              and 'value' in zehnder_info['middle'] -%}
          {{ zehnder_info['middle']['value'] }}
        {%- else -%}
          {{ states('sensor.comfoair_laufzeit_luftung_middle') }}
        {%- endif %}
      device_class: duration
      unit_of_measurement: "h"
      unique_id: template.sensor_comfoair_laufzeit_luftung_middle

    - name: "ComfoAir Laufzeit L端ftung High"
      state: >
        {% set zehnder_info = state_attr('sensor.zehnder_comfoair_info', 'getOperatingHours') %}
        {% if states('sensor.zehnder_comfoair_info') == 'OK'
              and zehnder_info
              and 'high' in zehnder_info
              and 'value' in zehnder_info['high'] -%}
          {{ zehnder_info['high']['value'] }}
        {%- else -%}
          {{ states('sensor.comfoair_laufzeit_luftung_high') }}
        {%- endif %}
      device_class: duration
      unit_of_measurement: "h"
      unique_id: template.sensor_comfoair_laufzeit_luftung_high
